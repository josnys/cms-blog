import{W as v,a as s}from"./index-daaa950d.js";import{I as n}from"./InputError-2509fabd.js";import{I as c}from"./InputLabel-d98e48d3.js";import{P as j}from"./PrimaryButton-22c3cd02.js";import{T as o}from"./TextInput-cbc3e4dd.js";import{C as _}from"./Checkbox-98cb6b5a.js";import{F as y}from"./FlashMessage-65223d66.js";import{createSlug as N}from"./Utils-78048c49.js";import"./index-29727f47.js";function P({auth:b,formSuccess:r,roleData:a}){const{data:l,setData:i,patch:d,post:p,errors:m,processing:g,transform:x,reset:u}=v({display_name:a.display_name||"",is_active:a.is_active||!0,slug:a.slug||""}),f=e=>{e.preventDefault(),a.slug||i("slug",N(e.target.value))},h=e=>{e.preventDefault(),a.slug?d(route("admin.role.update",a.slug),{onSuccess:()=>{u(),r()}}):(l.crud||x(t=>({...t,permissions:[{display_name:t.display_name,slug:t.slug,is_active:t.is_active}]})),p(route("admin.role.store"),{onSuccess:()=>{u(),r()}}))};return s.jsxs("section",{className:"w-full p-4",children:[s.jsx(y,{}),s.jsx("div",{className:"w-full col-span-12",children:s.jsx("div",{className:"w-full p-4 bg-white rounded-md",children:s.jsxs("form",{onSubmit:h,className:"w-full space-y-6",children:[s.jsxs("div",{children:[s.jsx(c,{htmlFor:"display_name",value:"Display Name"}),s.jsx(o,{id:"display_name",name:"display_name",value:l.display_name,className:"block w-full mt-1",autoComplete:"display_name",isFocused:!0,onChange:e=>i("display_name",e.target.value),onBlur:f,required:!0}),s.jsx(n,{message:m.display_name,className:"mt-2"})]}),s.jsxs("div",{children:[s.jsx(c,{htmlFor:"slug",value:"Slug"}),s.jsx(o,{id:"slug",name:"slug",value:l.slug,className:"block w-full mt-1",autoComplete:"slug",isFocused:!1,onChange:e=>i("slug",e.target.value),disabled:!0,required:!0}),s.jsx(n,{message:m.slug,className:"mt-2"})]}),s.jsx("div",{className:"block mt-4",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx(_,{name:"is_active",checked:l.is_active,onChange:e=>i("is_active",e.target.checked)}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Active"})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsx(j,{disabled:g,children:a.slug?"Update":"Save"})})]})})})]})}export{P as default};
